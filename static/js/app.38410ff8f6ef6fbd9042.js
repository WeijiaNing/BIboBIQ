webpackJsonp([1],{"0m2W":function(t,e){},"6h+L":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("fZjL"),r=n.n(s),a=n("DNVT"),o=(n("mgS3"),{name:"app",data:function(){return{swiper:a.a,navSwiper:Object,SwiperPage:Object,barPosition:0,routerName:{"Model3D-list":"3D","Animate-list":"Animate","error-list":"APP","brach-list":"微信"},routerNum:null}},computed:{x:function(){return"transform:translateX("+this.barPosition+"px)"}},update:{},watch:{},created:function(){},mounted:function(){this.routerNum=r()(this.routerName),this.SwiperInit()},methods:{SwiperInit:function(){var t=this,e=void 0,n=void 0,i=void 0,s=void 0;t.navSwiper=new this.swiper("#nav",{slidesPerView:3,slideToClickedSlide:!0,freeMode:!0,on:{init:function(){e=this.slides.eq(0).css("width"),(s=this.$el.find(".bar")).css("width",e),s.transition(300),n=this.slides[this.slides.length-1].offsetLeft,i=parseInt(this.$wrapperEl.css("width")),0;for(var t=0;t<this.slides.length;t++)parseInt(this.slides.eq(t).css("width"))}}}),this.NavMove(t,n,i,e),t.navSwiper.$el.on("touchstart",function(t){t.preventDefault()}),t.navSwiper.on("tap",function(e){var n;n=this.clickedIndex,this.slides.eq(n),t.SwiperPage.slideTo(n,0)})},NavMove:function(t,e,n,i,s){t.SwiperPage=new this.swiper("#Container",{watchSlidesProgress:!0,resistanceRatio:0,initialSlide:1,on:{touchMove:function(){t.barPosition=e*this.progress},transitionStart:function(){var e=this.activeIndex,r=t.navSwiper;t.$router.push(t.routerNum[e]),t.barPosition=r.slides[e].offsetLeft,r.setTransition(300),t.barPosition<(n-parseInt(i))/2?r.setTranslate(0):t.barPosition>s-(parseInt(i)+n)/2?r.setTranslate(n-s):r.setTranslate((n-parseInt(i))/2-t.barPosition)}}})}}}),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"top"}},[n("span",{staticClass:"logo"},[t._v("logo:")]),n("span",[t._v("position:"+t._s(t.barPosition)+" ")]),t._v(" "),n("div",[t._v(" Message:")]),t._v(" "),n("div",{staticClass:"swiper-container",attrs:{id:"nav"}},[n("div",{staticClass:"swiper-wrapper"},[t._l(t.routerName,function(e,i){return n("div",{staticClass:"swiper-slide"},[n("span",[n("router-link",{attrs:{to:{path:i}}},[t._v(t._s(e))])],1)])}),t._v(" "),n("div",{ref:"bar",staticClass:"bar",style:t.x},[n("div",{staticClass:"color"})])],2)])]),t._v(" "),n("div",{staticClass:"swiper-container",attrs:{id:"Container"}},[n("router-view",{attrs:{name:"Model-Content"}}),t._v(" "),n("router-view",{attrs:{name:"Animate-Content"}}),t._v(" "),n("div",{staticClass:"swiper-wrapper"},t._l(t.routerName,function(t,e){return n("div",{staticClass:"swiper-slide"},[n("router-view",{attrs:{name:e}})],1)}))],1)])},staticRenderFns:[]};var d=n("VU/8")(o,l,!1,function(t){n("0m2W")},null,null).exports,c=n("NYxO");i.default.use(c.a);var v=new c.a.Store({}),u=n("/ocq"),p=n("Bb1N"),m={name:"Model-content",components:{ModelObj:p.ModelObj}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mode-page"},[n("div",{staticClass:"mode-filter"},[n("div",{on:{click:function(e){t.$router.back()}}},[t._v("返回")]),t._v(" "),n("model-obj",{attrs:{src:"./static/model/obj/flower.obj",mtl:"./static/model/obj/flower.mtl"}})],1)])},staticRenderFns:[]};var f=n("VU/8")(m,h,!1,function(t){n("6h+L")},null,null).exports,w=n("Ml+6"),g=n("pXIW"),_=n.n(g),C={name:"glHeader",data:function(){return{scene:Object,camera:Object,renderer:Object,val:1,stopnum:null}},mounted:function(){this.senceinit()},beforeDestroy:function(){cancelAnimationFrame(this.stopnum),console.log("已销毁")},methods:{senceinit:function(){var t=this,e=void 0,n=void 0,i=void 0,s=void 0,r=window.innerWidth,a=window.innerHeight,o=document.getElementById("container");(i=new w.h(40,r/a,1,1e4)).position.z=150,n=new w.j,(s=new w.e(16777215)).position.set(0,200,0),n.add(s),t.addObjs(),(e=new w.m).setPixelRatio(window.devicePixelRatio),e.setSize(r,a),o.appendChild(e.domElement),window.addEventListener("resize",function(e){t.resize()},!1),t.scene=n,t.camera=i,t.renderer=e,this.animate()},addObjs:function(){var t=this,e=new w.f,n=void 0,i=void 0,s=void 0;e.load("./static/model/obj/animate/cube.json",function(e){e.applyMatrix((new w.g).makeRotationX(Math.PI/2)),e.applyMatrix((new w.g).makeScale(20,20,20)),e.applyMatrix((new w.g).makeTranslation(80,20,0)),(n=e)&&i&&!s&&(s=!0,t.addPartice(n,i))}),e.load("./static/model/obj/animate/cube1.js",function(e){i=e,n&&i&&!s&&(s=!0,t.addPartice(n,i))})},addPartice:function(t,e){var n=void 0,i=void 0;t.vertices.length>e.vertices.length?(n=t,i=e):(n=e,i=t),n=(new w.c).fromGeometry(n),i=(new w.c).fromGeometry(i);var s=n.attributes.position.array,r=i.attributes.position.array,a=s.length,o=r.length,l=new Float32Array(a);l.set(r);for(var d=o,c=0;d<a;d++,c++)c%=o,l[d]=r[c],l[d+1]=r[c+1],l[d+2]=r[c+2];for(var v=new Float32Array(a),u=0;u<a;u++)v[u]=4;n.addAttribute("size",new w.b(v,1)),n.addAttribute("position2",new w.b(l,3));var p={color:{value:new w.d(16777215)},texture:{value:(new w.l).load("./static/model/obj/animate/dot.png")},val:{value:1}},m=new w.k({uniforms:p,vertexShader:document.getElementById("vertexshader").textContent,fragmentShader:document.getElementById("fragmentshader").textContent,blending:w.a,depthTest:!1,transparent:!0}),h=new w.i(n,m);h.position.y=-15;var f={val:1},g=new _.a.Tween(f).to({val:0},2e3).easing(_.a.Easing.Quadratic.InOut).delay(1e3).onUpdate(b),C=new _.a.Tween(f).to({val:1},2e3).easing(_.a.Easing.Quadratic.InOut).delay(1e3).onUpdate(b);function b(){h.material.uniforms.val.value=this._object.val}g.chain(C),C.chain(g),g.start(),this.scene.add(h),this.particleSystem=h},resize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},update:function(){var t=.005*Date.now();if(this.particleSystem){var e=this.particleSystem.geometry;this.particleSystem.rotation.y=.01*t;for(var n=e.attributes.size.array,i=n.length,s=0;s<i;s++)n[s]=2*(1+Math.sin(.02*s+t));e.attributes.size.needsUpdate=!0}this.renderer.render(this.scene,this.camera)},animate:function(){_.a.update(),this.update(),this.stopnum=window.requestAnimationFrame(this.animate)}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"free"},[this._t("showgl",[e("div",{attrs:{id:"container"}})]),this._v(" "),e("script",{attrs:{type:"x-shader/x-vertex",id:"vertexshader"}},[this._v("\n\n\t\t\t\t\t\t\tattribute float size;    //粒子尺寸\n\t\t\t\t\t\t\tattribute vec3 position2;// 目标顶点位置\n\t\t\t\t\t\t\t// attribute vec3 color;\n\t\t\t\t\t\t\tuniform float val;     // 动画运行时间\n\t\t\t\t\t\t\t// varying vec3 vColor;\n\t\t\t\t\t\t\tvarying vec3 vPos;     // 将顶点位置传输给片元着色器\n\n\t\t\t\t\t\t\tvoid main() {\n\n\t\t\t\t\t\t\t// vColor = color\n\t\t\t\t\t\t\t// 计算粒子位置\n\t\t\t\t\t\t\tvPos.x = position.x * val + position2.x * (1.-val);\n\t\t\t\t\t\t\tvPos.y = position.y* val + position2.y * (1.-val);\n\t\t\t\t\t\t\tvPos.z = position.z* val + position2.z * (1.-val);\n\n\t\t\t\t\t\t\t// 坐标转换\n\t\t\t\t\t\t\tvec4 mvPosition = modelViewMatrix * vec4( vPos, 1.0 );\n\t\t\t\t\t\t\tgl_PointSize = size * ( 300.0 / -mvPosition.z );\n\t\t\t\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t")]),this._v(" "),e("script",{attrs:{type:"x-shader/x-fragment",id:"fragmentshader"}},[this._v("\n\t\t\t\t\t\t\tuniform vec3 color;\n\t\t\t\t\t\t\tuniform sampler2D texture;\n\t\t\t\t\t\t\t// varying vec3 vColor;\n\t\t\t\t\t\t\tvarying vec3 vPos;\n\n\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t // 计算粒子颜色，通过位置\n\t\t\t\t\t\t\tvec3 vColor = vec3(1.0, 0., 0.);\n\t\t\t\t\t\t\tvColor.r = vPos.z/50.;\n\t\t\t\t\t\t\tvColor.g = vPos.y/50.;\n\t\t\t\t\t\t\tvColor.b = vPos.x/50.;\n\n\t\t\t\t\t\t\tgl_FragColor = vec4( color * vColor, 1.0 );\n\t\t\t\t\t\t\t  // 顶点贴图\n\t\t\t\t\t\t\tgl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t")])],2)},staticRenderFns:[]},x={name:"Animate-page",components:{glHeader:n("VU/8")(C,b,!1,null,null,null).exports}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("glHeader",[e("template",{slot:"showgl"})],2)},staticRenderFns:[]},y=[f,n("VU/8")(x,P,!1,null,null,null).exports],M={name:"sameDom",data:function(){return{swiper:a.a,swiperscroll:null}},props:{infoCode:String,picinfoCode:{type:String,default:"// TODO"}},mounted:function(){this.swiperscroll=new this.swiper(".scroll",{slidesOffsetBefore:15,direction:"vertical",freeMode:!0,slidesPerView:"auto",mousewheel:{releaseOnEdges:!0}})},components:{}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sameDom swiper-container scroll"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide sliderscroll"},[this._t("preview")],2)])])},staticRenderFns:[]},j=n("VU/8")(M,S,!1,null,null,null).exports,D={name:"Model3D-list",data:function(){return{}},watch:{$route:function(t,e){console.log(t,e)}},components:{sameDom:j}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-slide"},[e("sameDom",[e("template",{slot:"preview"},[e("div",{staticClass:"list"},[e("p",[this._v("名称：齿轮模型")]),this._v(" "),e("div",{staticClass:"content"},[e("img",{attrs:{src:"",alt:"图片"}}),this._v(" "),e("p",[this._v("介绍")]),this._v(" "),e("router-link",{attrs:{to:"/Model3D-list/kongfa"}},[this._v("--\x3e>点击进入")])],1)])])],2)],1)},staticRenderFns:[]},z={name:"Animate-list",components:{sameDom:j}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-slide"},[e("sameDom",[e("template",{slot:"preview"},[e("div",{staticClass:"list"},[e("p",[this._v("名称：粒子Animation")]),this._v(" "),e("div",{staticClass:"content"},[e("p",[this._v("介绍")]),this._v(" "),e("router-link",{attrs:{to:"/Animate-list/1"}},[this._v("--\x3e>点击进入")])],1)])])],2)],1)},staticRenderFns:[]},O={name:"error-list",data:function(){return{info:123,picinfo:123}},components:{sameDom:j}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-slide"},[e("sameDom",{attrs:{"info-Code":this.info,"picinfo-Code":this.picinfo}},[e("template",{slot:"preview"},[this._v("\n\t\t\t这是404页面\n\t\t")])],2)],1)},staticRenderFns:[]},F=[n("VU/8")(D,A,!1,null,null,null).exports,n("VU/8")(z,E,!1,null,null,null).exports,n("VU/8")(O,I,!1,null,null,null).exports];i.default.use(u.a);var $=[{path:"/Model3D-list",name:"Model3D-list",components:{"Model3D-list":F[0]}},{path:"/Animate-list",name:"Animate-list",components:{"Animate-list":F[1]}},{path:"/error-list",name:"error-list",components:{"error-list":F[2]}},{path:"/Model3D-list/:id",name:"Model-Content",components:{"Model-Content":y[0]}},{path:"/Animate-list/:id",name:"Animate-Content",components:{"Animate-Content":y[1]}},{path:"*",redirect:"/Animate-list"}],N=new u.a({routes:$});i.default.config.productionTip=!1,new i.default({router:N,store:v,render:function(t){return t(d)}}).$mount("#app")},mgS3:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.38410ff8f6ef6fbd9042.js.map